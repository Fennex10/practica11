# 3️⃣ Login en Docker Hub usando API Key
- name: Log in to Docker Hub
  uses: docker/login-action@v3
  with:
    username: ${{ secrets.DOCKER_USERNAME }}
    password: ${{ secrets.DOCKER_PASSWORD }}

# 4️⃣ Construir la imagen con múltiples tags
- name: Build Docker image
  run: |
    docker build -t ${{ secrets.DOCKER_USERNAME }}/practica11:latest \
                 -t ${{ secrets.DOCKER_USERNAME }}/practica11:${{ env.SHA_SHORT }} \
                 -t ${{ secrets.DOCKER_USERNAME }}/practica11:${{ env.DATE }} .

# 5️⃣ Subir la imagen a Docker Hub
- name: Push Docker images
  run: |
    docker push ${{ secrets.DOCKER_USERNAME }}/practica11:latest
    docker push ${{ secrets.DOCKER_USERNAME }}/practica11:${{ env.SHA_SHORT }}
    docker push ${{ secrets.DOCKER_USERNAME }}/practica11:${{ env.DATE }}
